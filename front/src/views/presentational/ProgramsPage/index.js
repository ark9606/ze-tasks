import React, { PureComponent } from 'react';
import './style.scss';
import Page from '../Page';
import AddTodo from '../AddTodo';
import { connect } from 'react-redux';
import { bindActionCreators } from 'redux';
import { addTodo } from '../../../state/duck/todo';
import { request, baseURL } from '../../../state/util';
import { Todo } from '../TodoPage';

const icons = [
  <IconTooth/>,
  <IconHealth/>,
  <IconWater/>,
  <IconSoc/>,
];

const Program = ({id, name, todos, difficult}) => {
  const Icon = icons[id - 1];

  return (
    <div className='program'>
      <header className='program_header'>

        <div className='row'>
          {Icon}
          <p className='program_name'>{name}</p>
        </div>

        <div className='start_btn'>take part</div>

      </header>   
      <div className='todo_list'>
        {todos.map(t => <Todo key={t.id} {...t}/>)}
      </div>
    </div>
  );
}

class App extends React.Component {
  constructor(props){
    super(props);

    this.state = {
      progs: [],
    };

    this.boundActionCreators = bindActionCreators({
      addTodo
    }, props.dispatch);
  }

  componentDidMount() {
    request({
      method: 'get',
      url: `${baseURL}/programs`
    })
    .then(res => {
      console.log(res);
      
      this.setState({progs: res});
    })
  }

  render() {  

    const { progs } = this.state;
    const { todo } = this.props;

    return (
      <Page className='program_page' title='Programs'>
        {/* <p className='page_title'>Programs</p> */}

        <p className='description'>
        Choose programs with challenge for you and make your life better with millions users. Each program consist of some daily task for you.
        </p>

        <div className='todo_list_container'>

          {progs.map(prog => <Program key={prog.id} {...prog}/>)}

          
        </div>

      </Page>
    );
  }
}

const mapStateToProps = ({user, todo}) => ({
  user, todo
});

export default connect(mapStateToProps, null)(App);


function IconSoc() {
  return (<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
  viewBox="0 0 480.21 480.21" >
<g>
 <g>
   <path d="M372.189,256.191l-51.928-66.104c18.439-18.904,29.574-43.737,31.424-70.08h80.408v8.8
     c-18.613,3.825-31.979,20.198-32,39.2c0.005,22.091,17.917,39.996,40.008,39.992s39.996-17.917,39.992-40.008
     c-0.004-19.005-13.379-35.383-32-39.184v-16.8c0-4.418-3.582-8-8-8h-88.408c-1.564-22.165-9.728-43.355-23.44-60.84l11.16-11.16
     h94.16c4.418,12.497,18.131,19.046,30.627,14.627c12.497-4.418,19.046-18.131,14.627-30.627S460.689-3.039,448.193,1.379
     c-6.835,2.416-12.211,7.793-14.627,14.627h-97.472c-2.122,0-4.156,0.844-5.656,2.344l-12.92,12.92
     c-44.458-42.816-115.208-41.485-158.025,2.973c-18.198,18.896-29.169,43.592-30.991,69.763h-67.2L35.149,45.183
     C46.84,39.03,51.33,24.566,45.178,12.875S24.561-3.305,12.87,2.847C1.18,8.999-3.31,23.463,2.842,35.154
     c3.233,6.144,8.977,10.581,15.739,12.156l30.2,67.952c1.286,2.887,4.152,4.746,7.312,4.744h72.408
     c1.842,26.04,12.762,50.608,30.856,69.424l-67.536,67.536c-43.669-6.543-84.374,23.553-90.917,67.222
     c-6.543,43.669,23.553,84.374,67.222,90.917c1.318,0.198,2.641,0.362,3.967,0.493v40.408c0,4.418,3.582,8,8,8h73.472
     c4.418,12.497,18.131,19.046,30.627,14.627s19.046-18.131,14.627-30.627s-18.131-19.046-30.627-14.627
     c-6.835,2.416-12.211,7.793-14.627,14.627H88.093v-32.408c43.938-4.38,76.007-43.55,71.627-87.489
     c-2.964-29.732-22.26-55.331-50.027-66.367l61.6-61.6c40.116,31.586,96.582,31.813,136.952,0.552l44.384,56.496
     c-61.285,8.549-104.036,65.16-95.487,126.444c8.549,61.285,65.16,104.036,126.444,95.487
     c61.285-8.549,104.036-65.16,95.487-126.444C471.565,298.847,426.504,258.17,372.189,256.191z M464.093,168.007
     c0,13.255-10.745,24-24,24s-24-10.745-24-24s10.745-24,24-24S464.093,154.752,464.093,168.007z M456.093,16.007
     c4.418,0,8,3.582,8,8s-3.582,8-8,8s-8-3.582-8-8S451.675,16.007,456.093,16.007z M24.093,32.007c-4.418,0-8-3.582-8-8s3.582-8,8-8
     s8,3.582,8,8S28.511,32.007,24.093,32.007z M176.093,448.007c4.418,0,8,3.582,8,8s-3.582,8-8,8s-8-3.582-8-8
     S171.675,448.007,176.093,448.007z M112.093,391.351c-19.771,11.546-44.229,11.546-64,0v-15.344c0-17.673,14.327-32,32-32
     s32,14.327,32,32V391.351z M64.093,312.007c0-8.837,7.163-16,16-16s16,7.163,16,16s-7.163,16-16,16S64.093,320.843,64.093,312.007
     z M128.093,293.535c10.342,11.727,16.034,26.835,16,42.472c-0.003,15.546-5.694,30.553-16,42.192v-2.192
     c-0.01-17.49-9.533-33.591-24.856-42.024c12.203-12.784,11.731-33.04-1.053-45.243c-12.784-12.202-33.04-11.731-45.243,1.053
     c-11.803,12.365-11.803,31.824,0,44.189c-15.32,8.435-24.839,24.535-24.848,42.024v2.192
     c-23.379-26.51-20.841-66.953,5.668-90.332C64.271,264.487,104.714,267.025,128.093,293.535z M296.093,189.799
     c-33.397,24.246-78.603,24.246-112,0v-19.392c0-14.58,11.82-26.4,26.4-26.4h17.76l-11.608,29.024
     c-1.189,2.973-0.49,6.37,1.776,8.632l16,16c3.124,3.123,8.188,3.123,11.312,0l16-16c2.266-2.263,2.965-5.659,1.776-8.632
     l-11.6-29.024h17.784c14.58,0,26.4,11.82,26.4,26.4V189.799z M241.238,59.887c-0.3,0.5-0.544,1.03-0.728,1.583
     c-4.048,12.136-25.903,16.736-39.975,18.072c2.146-26.81,14.762-39.536,39.559-39.536c22.704,0,35.2,10.736,38.776,33.136
     l-26.656-16C248.424,54.87,243.51,56.099,241.238,59.887z M251.125,75.159l28.592,17.16
     c-3.208,19.584-27.344,35.688-39.624,35.688c-17.843-3.039-32.686-15.412-38.888-32.416
     C214.901,94.463,239.629,90.311,251.125,75.159z M246.701,174.079l-6.608,6.616l-6.608-6.616l6.608-16.536L246.701,174.079z
      M274.997,128.375c12.48-9.821,20.159-24.515,21.096-40.368c0-52.896-30.456-64-56-64s-56,11.104-56,64
     c0.93,15.862,8.61,30.566,21.096,40.392c-21.206,2.613-37.127,20.641-37.096,42.008v4.864
     c-35.069-39.764-31.263-100.429,8.502-135.498C216.36,4.704,277.024,8.51,312.093,48.274c32,36.285,32,90.711,0,126.996v-4.864
     C312.136,149.031,296.212,130.988,274.997,128.375z M424.093,445.799c-33.397,24.246-78.603,24.246-112,0v-19.392
     c0-14.58,11.82-26.4,26.4-26.4h17.76l-11.608,29.024c-1.189,2.973-0.49,6.369,1.776,8.632l16,16c3.124,3.123,8.188,3.123,11.312,0
     l16-16c2.266-2.263,2.965-5.659,1.776-8.632l-11.6-29.024h17.784c14.58,0,26.4,11.82,26.4,26.4V445.799z M379.125,331.159l0-0.008
     l28.592,17.16c-3.208,19.592-27.344,35.696-39.624,35.696c-17.843-3.039-32.686-15.412-38.888-32.416
     C342.901,350.463,367.629,346.31,379.125,331.159z M328.533,335.543L328.533,335.543c2.144-26.808,14.76-39.536,39.56-39.536
     c22.704,0,35.2,10.736,38.776,33.136l-26.656-16c-3.789-2.273-8.703-1.044-10.976,2.745c-0.3,0.5-0.544,1.03-0.728,1.583
     C364.461,329.607,342.605,334.207,328.533,335.543z M374.701,430.079l-6.608,6.616l-6.608-6.616l6.608-16.536L374.701,430.079z
      M440.093,431.294v-4.888c0.043-21.376-15.881-39.418-37.096-42.032c12.48-9.821,20.159-24.515,21.096-40.368
     c0-52.896-30.456-64-56-64s-56,11.104-56,64c0.93,15.862,8.61,30.566,21.096,40.392c-21.206,2.613-37.127,20.641-37.096,42.008
     v4.864c-34.987-39.795-31.089-100.419,8.706-135.406c39.795-34.987,100.419-31.089,135.406,8.706
     c15.416,17.534,23.909,40.088,23.888,63.435C464.088,391.325,455.552,413.836,440.093,431.294z"/>
 </g>
</g>
</svg>)
}

function IconTooth() {
  return (<svg height="503pt" viewBox="0 0 503 503.77993" width="503pt" xmlns="http://www.w3.org/2000/svg"><path d="m497.085938 55.570312c-42.074219-7.042968-81.652344-24.714843-114.980469-51.34375l-2.761719-2.214843c-3.066406-2.457031-7.425781-2.457031-10.492188 0l-2.753906 2.207031c-.839844.671875-1.730468 1.269531-2.578125 1.921875-47.003906-13.550781-97.652343-3.921875-136.410156 25.929687-54.011719-43.898437-140.453125-42.808593-188.953125 3.757813-49.417969 47.363281-43.394531 124.660156-21.226562 181.199219 6.589843 15.5625 14.503906 30.527344 23.652343 44.734375 4.660157 7.699219 9.476563 15.65625 13.765625 23.714843 12.714844 22.539063 21 47.300782 24.417969 72.953126 2.578125 29.183593 7.484375 58.113281 14.679687 86.511718 5.53125 20.5625 15.847657 58.839844 48.722657 58.839844 25.785156 0 45.730469-49.253906 59.257812-146.382812 4.734375-33.449219 19.625-35.539063 25.535157-36.226563 6.832031.789063 21.199218 3.484375 25.832031 36.210937 13.53125 97.144532 33.476562 146.398438 59.257812 146.398438 32.878907 0 43.195313-38.277344 48.683594-58.753906 5.757813-22.0625 9.878906-44.519532 12.320313-67.191406.335937 0 .671874.09375 1.007812.09375 4.84375-.003907 9.511719-1.816407 13.085938-5.085938l80.453124-73.132812c23.214844-21.128907 36.460938-51.058594 36.492188-82.449219v-153.425781c-.003906-4.09375-2.96875-7.589844-7.007812-8.265626zm-185.035157 431.421876c-8.390625 0-28.089843-27.570313-42.636719-131.945313-4.390624-31.054687-18.289062-48.085937-41.296874-50.636719-.667969-.074218-1.34375-.074218-2.011719 0-23.007813 2.519532-36.933594 19.589844-41.296875 50.65625-14.546875 104.355469-34.253906 131.925782-42.640625 131.925782-18.464844 0-26.464844-23.953126-32.539063-46.480469-6.902344-27.570313-11.648437-55.632813-14.1875-83.9375-3.632812-27.769531-12.550781-54.585938-26.277344-78.996094-4.5-8.460937-9.445312-16.621094-14.269531-24.511719-8.652343-13.390625-16.140625-27.503906-22.378906-42.175781-20.132813-51.46875-26.210937-121.308594 17.265625-162.949219 43.480469-41.640625 125.238281-40.984375 171.671875 1.402344 3.207031 2.921875 8.109375 2.921875 11.316406 0 30.96875-26.652344 72.363281-37.804688 112.53125-30.320312-28.589843 18.453124-60.632812 30.890624-94.183593 36.546874-4.046876.675782-7.007813 4.175782-7.007813 8.277344v153.414063c.027344 31.378906 13.261719 61.292969 36.460937 82.421875l76.640626 69.667968c-2.378907 24.027344-6.589844 47.839844-12.59375 71.226563-6.101563 22.460937-14.097657 46.414063-32.566407 46.414063zm175.257813-269.730469c-.03125 26.648437-11.269532 52.054687-30.964844 70l-80.449219 73.132812c-1.015625.929688-2.570312.929688-3.585937 0l-80.449219-73.164062c-19.699219-17.949219-30.9375-43.355469-30.964844-70.003907v-146.371093c41.265625-8.042969 80.050781-25.710938 113.203125-51.5625 33.15625 25.851562 71.941406 43.519531 113.210938 51.5625zm0 0"/><path d="m369.378906 43.449219c-26.117187 17.765625-55.023437 31.035156-85.519531 39.265625-3.664063.984375-6.210937 4.304687-6.210937 8.097656v126.449219c.015624 21.925781 9.265624 42.832031 25.480468 57.59375l65.320313 59.375c3.199219 2.914062 8.09375 2.914062 11.296875 0l65.324218-59.375c16.199219-14.769531 25.4375-35.671875 25.449219-57.59375v-126.4375c0-3.792969-2.542969-7.113281-6.203125-8.101563-30.496094-8.230468-59.40625-21.5-85.527344-39.265625-2.839843-1.925781-6.566406-1.925781-9.410156-.007812zm84.355469 53.726562v120.085938c-.011719 17.199219-7.261719 33.597656-19.976563 45.179687l-59.660156 54.25-59.695312-54.25c-12.71875-11.574218-19.972656-27.972656-19.984375-45.171875v-120.09375c28.207031-8.261719 55.050781-20.625 79.660156-36.695312 24.613281 16.0625 51.453125 28.429687 79.65625 36.695312zm0 0"/><path d="m345.644531 183.8125c-9.972656-9.5-25.644531-9.5-35.613281 0-4.726562 4.722656-7.378906 11.128906-7.378906 17.808594 0 6.679687 2.652344 13.082031 7.378906 17.804687l25.179688 25.179688c4.710937 4.738281 11.121093 7.390625 17.800781 7.371093h1.402343c7.148438-.402343 13.785157-3.824218 18.253907-9.417968l67.148437-83.933594c5.75-7.011719 7.289063-16.574219 4.023438-25.03125-3.261719-8.460938-10.824219-14.511719-19.792969-15.84375s-17.964844 2.261719-23.542969 9.40625l-49.582031 61.96875zm12.53125 23.089844 55.394531-69.285156c1.394532-1.738282 3.417969-2.855469 5.632813-3.097657 2.214844-.257812 4.4375.386719 6.167969 1.785157 1.742187 1.394531 2.855468 3.417968 3.101562 5.632812.246094 2.210938-.398437 4.433594-1.789062 6.171875l-67.148438 83.933594c-1.484375 1.855469-3.6875 2.996093-6.0625 3.136719h-.460937c-2.226563.007812-4.363281-.878907-5.933594-2.457032l-25.179687-25.179687c-2.183594-2.109375-3.058594-5.230469-2.289063-8.164063s3.058594-5.226562 5.996094-5.996094c2.933593-.765624 6.054687.109376 8.160156 2.289063l11.917969 11.921875c1.691406 1.6875 4.019531 2.574219 6.402344 2.441406 2.382812-.132812 4.597656-1.273437 6.089843-3.140625zm0 0"/><path d="m193.535156 109.289062c-37.066406-.042968-67.105468-30.082031-67.144531-67.148437 0-4.636719-3.757813-8.394531-8.394531-8.394531-4.636719 0-8.394532 3.757812-8.394532 8.394531-.039062 37.066406-30.078124 67.105469-67.148437 67.148437-4.632813 0-8.390625 3.757813-8.390625 8.390626 0 4.636718 3.757812 8.394531 8.390625 8.394531 37.070313.042969 67.109375 30.082031 67.148437 67.148437 0 4.636719 3.757813 8.394532 8.394532 8.394532 4.636718 0 8.394531-3.757813 8.394531-8.394532.039063-37.066406 30.078125-67.105468 67.144531-67.148437 4.636719 0 8.394532-3.757813 8.394532-8.394531 0-4.632813-3.757813-8.390626-8.394532-8.390626zm-75.539062 47.363282c-8.269532-16.980469-21.988282-30.703125-38.972656-38.972656 16.984374-8.265626 30.703124-21.988282 38.972656-38.96875 8.269531 16.980468 21.988281 30.703124 38.96875 38.96875-16.980469 8.269531-30.699219 21.992187-38.96875 38.972656zm0 0"/></svg>);
}

function IconWater() {
  return (<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"  x="0px" y="0px"
  viewBox="0 0 511.783 511.783">
  <g transform="translate(1 1)">
  <g>
    <g>
      <path d="M474.553,95.976L400.79,2.254c-3.471-4.339-10.414-4.339-13.885,0l-73.763,93.722
        c-42.522,45.993-42.522,119.756,0,164.881c22.563,21.695,51.2,32.976,80.705,32.976c29.505,0,58.142-11.281,80.705-32.976
        C517.075,212.261,517.075,138.498,474.553,95.976z M462.403,248.708c-38.183,37.315-98.929,37.315-136.244,0
        c-37.315-39.051-36.448-102.4,0-142.319l67.688-85.044l67.688,85.044l0.868,0.868
        C498.851,143.705,498.851,207.054,462.403,248.708z"/>
      <path d="M392.98,242.634c-16.488,0-32.108-6.075-43.39-17.356c-23.43-26.034-23.43-67.688,0.868-93.722l0.868-0.868
        c3.471-3.471,3.471-8.678,0-12.149s-8.678-3.471-12.149,0l-0.868,0.868c-29.505,32.108-30.373,85.044,0,117.153
        c14.753,14.753,34.712,22.563,55.539,22.563c5.207,0,7.81-2.603,7.81-7.81S398.186,242.634,392.98,242.634z"/>
      <path d="M260.207,253.915L158.675,139.366c-1.736-1.736-4.339-2.603-6.942-2.603c-2.603,0.868-5.207,1.736-6.942,3.471
        L47.597,254.783C18.959,283.42,3.339,320.736,3.339,360.654c0,39.919,15.62,78.102,44.258,105.871
        c28.637,28.637,65.953,44.258,105.871,44.258s77.234-15.62,106.739-45.125c31.241-27.77,48.597-65.085,48.597-105.003
        C308.803,320.736,291.447,282.553,260.207,253.915z M247.19,454.376c-25.166,25.166-58.142,39.051-93.722,39.051
        s-68.556-13.885-93.722-39.051c-25.166-25.166-39.051-59.01-39.051-93.722c0-34.712,13.885-68.556,39.051-93.722l91.119-107.607
        l95.458,107.607c0,0.868,0.868,0.868,0.868,0.868c28.637,25.166,43.39,59.01,43.39,94.59
        C289.712,397.102,274.959,430.078,247.19,454.376z"/>
      <path d="M153.468,458.715c-26.034,0-51.2-10.414-69.424-28.637c-18.224-19.092-28.637-43.39-28.637-69.424
        c0-26.034,10.414-51.2,28.637-69.424l0.868-0.868c3.471-3.471,3.471-8.678,0-12.149c-3.471-3.471-8.678-3.471-12.149,0
        l-0.868,0.868c-21.695,21.695-33.844,51.2-33.844,81.573c0,31.241,12.149,59.878,33.844,81.573
        c21.695,21.695,51.2,33.844,81.573,33.844c4.339,0,8.678-3.471,8.678-8.678S158.675,458.715,153.468,458.715z"/>
    </g>
  </g>
  </g>

  </svg>)
}

function IconHealth() {
  return (<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
  viewBox="0 0 53.345 53.345">
<path d="M53.256,16.661c-0.777-8.567-6.838-14.78-14.424-14.78c-4.601,0-8.965,2.296-11.675,6.143
 c-0.211,0.3-0.48,0.346-0.626,0.346c-0.152,0.01-0.416-0.043-0.627-0.352c-2.671-3.9-6.823-6.137-11.393-6.137
 c-7.586,0-13.646,6.213-14.424,14.78c-0.061,0.373-0.313,2.362,0.454,5.615c1.106,4.688,3.66,8.949,7.386,12.324l18.585,16.866
 L45.416,34.6c0.956-0.866,1.833-1.793,2.63-2.768c0.015-0.015,0.023-0.033,0.037-0.049c2.289-2.813,3.902-6.043,4.72-9.507
 C53.57,19.023,53.317,17.034,53.256,16.661z M26.525,48.775L9.271,33.117c-0.356-0.322-0.692-0.658-1.024-0.997h3.099
 c0.393,0,0.748-0.229,0.91-0.586l4.031-8.868l5.13,12.826c0.144,0.358,0.48,0.602,0.865,0.626c0.021,0.001,0.043,0.002,0.063,0.002
 c0.361,0,0.697-0.196,0.874-0.514l4.156-7.481l2.11,3.545c0.212,0.354,0.622,0.545,1.023,0.475c0.406-0.067,0.729-0.377,0.814-0.781
 l2.882-13.716l2.152,13.628c0.076,0.486,0.495,0.844,0.987,0.844h7.753c-0.331,0.338-0.666,0.672-1.02,0.993L26.525,48.775z
  M50.855,21.817c-0.709,3.007-2.086,5.819-4.016,8.303h-8.638l-2.867-18.156c-0.075-0.477-0.479-0.832-0.962-0.844
 c-0.515-0.035-0.904,0.322-1.004,0.794l-3.474,16.53l-1.688-2.836c-0.184-0.307-0.481-0.475-0.874-0.488
 c-0.358,0.005-0.686,0.202-0.859,0.514l-3.979,7.162l-5.219-13.047c-0.149-0.372-0.505-0.619-0.905-0.628
 c-0.385-0.029-0.769,0.221-0.934,0.586L10.703,30.12H6.507c-1.931-2.485-3.308-5.297-4.017-8.305
 c-0.729-3.083-0.43-4.827-0.428-4.838l0.015-0.101C2.746,9.345,7.976,3.88,14.512,3.88c3.899,0,7.45,1.92,9.742,5.267
 c0.527,0.771,1.351,1.216,2.259,1.222c0.895-0.016,1.739-0.429,2.279-1.193c2.336-3.315,6.09-5.295,10.04-5.295
 c6.536,0,11.767,5.466,12.448,13.092C51.285,16.99,51.584,18.733,50.855,21.817z"/>


</svg>)
}